<div class="container-fluid">
<div class="row">
<div class="col-sm-10 col-sm-offset-1">
<h2 class="h2title">All Tests (<%= testCount %> total)</h2>

<% if current_user.suites.count > 0 %>
    <a class="add-test-modal pointer">
      <span class="glyphicon glyphicon-plus"></span> Add Test</a>
<% else %>
    You do not have any suite yet. Please
    <a class="add-suite-modal pointer">
      <span class="glyphicon glyphicon-plus"></span> Add Suite</a>
    before adding tests.
<% end %><br><br>

<!--<div class="form-inline">-->
  <!--<input type="text" class="form-control" id="filter-test" name="filter-test">-->
  <!--<button id="filter-test-btn">Filter Test</button>-->
<!--</div><br>-->

  <table class="table table-bordered">
    <thead>
    <tr>
      <th>Suite</th>
      <th>Test Title</th>
      <th>Description</th>
      <th>Actions</th>
      <th>Last Ran</th>
      <th>Created At</th>
    </tr>
    </thead>

    <tbody>
    <% @tests.each do |test| %>
        <% suite = test.suite %>

        <tr>
          <td><%= link_to suite.title, controller: "suites", action: "show", id: suite.name %></td>
          <td><a href="<%= showUrl test %>"> <%= test.title %> </a>
            (<%= pluralize test.steps.count, 'step' %>)</td>
          <td><%= test.description %></td>
          <td><%= render "tests/delete_btn", test: test %> -
            <%= render "tests/edit_btn", test: test %>
          </td>
          <td><% if test.running %>
                  running
              <% elsif test.results.count > 0 %>
                  <%= time_ago_in_words test.results.first.created_at %>
              <% else %>
                  never ran before
              <% end %>
          </td>
          <td><%= test.created_at %></td>
        </tr>
    <% end %>
    </tbody>
  </table>
</div>
</div>
</div>